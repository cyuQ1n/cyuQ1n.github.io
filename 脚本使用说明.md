# 博客管理脚本使用说明

## 🎯 快速开始

写完博客后，只需运行一个命令即可发布：

```bash
./quick-deploy.sh
```

这个命令会自动：
1. 构建网站
2. 提交所有更改
3. 推送到GitHub
4. 触发自动部署

## 📚 可用脚本

### 1. blog.sh - 博客管理系统（推荐）
```bash
./blog.sh
```
**功能**：图形化菜单，包含所有功能
- 创建新文章
- 本地预览
- 部署网站
- 查看状态
- 更多功能...

### 2. quick-deploy.sh - 快速部署
```bash
./quick-deploy.sh
```
**功能**：一键部署，最快速的发布方式
- 自动构建
- 自动提交
- 自动推送
- 使用时间戳作为提交信息

### 3. deploy.sh - 完整部署
```bash
./deploy.sh
```
**功能**：交互式部署，可自定义提交信息
- 显示详细状态
- 自定义提交信息
- 确认后再推送
- 显示部署信息

### 4. new-post.sh - 创建新文章
```bash
./new-post.sh
```
**功能**：交互式创建新博客文章
- 设置标题
- 选择分类和标签
- 配置LaTeX支持
- 生成文章模板

## 📝 典型工作流程

### 场景1：写新文章并发布

```bash
# 1. 创建新文章
./new-post.sh

# 2. 编辑文章
vim content/posts/你的文章.md

# 3. 本地预览（可选）
~/bin/hugo server -D

# 4. 发布
./quick-deploy.sh
```

### 场景2：修改已有文章

```bash
# 1. 编辑文章
vim content/posts/已有文章.md

# 2. 快速发布
./quick-deploy.sh
```

### 场景3：使用图形界面管理

```bash
# 启动管理系统
./blog.sh

# 然后选择对应的数字操作
```

## ⚡ 最简单的使用方式

如果你只想快速发布，记住这一个命令就够了：

```bash
./quick-deploy.sh
```

## 🔧 首次使用配置

### 1. 修改baseURL
编辑 `hugo.toml`，将第一行改为：
```toml
baseURL = 'https://你的GitHub用户名.github.io/'
```

### 2. 添加GitHub远程仓库
```bash
git remote add origin https://github.com/你的用户名/你的用户名.github.io.git
```

### 3. 确保脚本可执行
```bash
chmod +x *.sh
```

## 🚀 高级技巧

### 自定义别名
在 `~/.bashrc` 或 `~/.zshrc` 中添加：

```bash
# 博客管理别名
alias blog='cd /data6/qcy/claude_home/homeland/my-website && ./blog.sh'
alias deploy='cd /data6/qcy/claude_home/homeland/my-website && ./quick-deploy.sh'
alias newpost='cd /data6/qcy/claude_home/homeland/my-website && ./new-post.sh'
```

然后运行 `source ~/.bashrc`，之后就可以在任何目录使用：
- `blog` - 打开管理系统
- `deploy` - 快速部署
- `newpost` - 创建新文章

### 定时备份
创建定时任务，每天自动备份：

```bash
crontab -e
# 添加以下行（每天凌晨2点自动提交）
0 2 * * * cd /data6/qcy/claude_home/homeland/my-website && ./quick-deploy.sh
```

## 📞 遇到问题？

### 推送失败
- 检查网络连接
- 确认GitHub认证（可能需要Personal Access Token）
- 确认远程仓库地址正确

### 构建失败
- 检查文章的front matter格式
- 确认没有语法错误
- 运行 `~/bin/hugo` 查看错误信息

### 部署后网站没更新
- 等待1-2分钟（GitHub Actions需要时间）
- 清除浏览器缓存（Ctrl+F5）
- 检查 GitHub Actions 页面的部署状态

## 🎉 现在开始

最简单的开始方式：

```bash
./blog.sh
```

选择菜单中的选项，开始管理你的博客！

---

*提示：将这个说明打印出来或保存在手边，方便随时查阅。*